.container {
  /* Variables CSS para theming */
  --primary-color: #2563EB;
  --secondary-color: #000000; /* Líneas negras */
  --text-color: #000000; /* Negro puro para máximo contraste */
  --bg-color: #FFFFFF;
  --accent-color: #3B82F6;
  --font-heading: 'Rubik', 'Inter', sans-serif;
  --font-body: 'Rubik', 'Inter', sans-serif;
  
    /* 
      Variables Typography Dinámicas
      (El valor por defecto es 9.5pt, pero queremos que --fs-body controle todo proporcionalmente)
    */
    --base-scale: 1; /* Factor de escala base */
    --fs-body-base: 9.5pt;
    --lh-body-base: 1.45;

    /* Las variables que el componente ThemeEditor manipula son:
       --dynamic-fs-base (en px, viene del slider, ej. 14px)
       --dynamic-lh (ej. 1.5)
       
       Debemos mapearlas o usarlas si están definidas en el style inline.
       Sin embargo, para mantener la integridad del diseño A4, usaremos multiplicadores.
    */

    /* Tipografía Estricta - Ajustada a Referencia V2 */
    --fs-name: calc(28pt * var(--base-scale));
    --fs-role: calc(11pt * var(--base-scale));
    --fs-section: calc(12pt * var(--base-scale));
    --fs-title: calc(10.5pt * var(--base-scale));
    --fs-subtitle: calc(10pt * var(--base-scale));
    --fs-body: calc(9.5pt * var(--base-scale));
    --fs-small: calc(8pt * var(--base-scale));
    
    /* Line Heights Dinámicos */
    --lh-body: var(--dynamic-lh, 1.45);
    --lh-list: var(--dynamic-lh, 1.4);
    --lh-title: 1.2; /* Títulos generalmente fijos */

  width: auto;
  min-height: auto;
  background-color: transparent;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0;
}

/* Individual Page Styles */
.page {
  width: 210mm;
  height: 297mm;
  /* El background transparente para que no se vea "capa trasera" */
  background-color: transparent;
  color: var(--text-color);
  font-family: var(--font-body);
  position: relative;
  overflow: visible; 
  display: flex;
  flex-direction: column;
  font-size: var(--fs-body);
  line-height: var(--lh-body);
  padding: 0; 
  box-sizing: border-box;
  margin-bottom: 2rem; 
  
  /* Borde y sombra se mueven a pageInner o se manejan con cuidado */
  border: none; 
  box-shadow: none;
  z-index: 1;
  transform: translateZ(0); /* Contexto de apilamiento */
}

/* Nuevo Wrapper Interno: ESTA ES LA "HOJA" REAL */
.pageInner {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden; 
  background-color: var(--bg-color); /* Blanco/Tema */
  display: flex;
  flex-direction: column;
  z-index: 2; /* Encima de las sombras */
  
  /* Borde de la hoja aquí para que coincida con el contenido */
  border: 1px solid #CBD5E1; 
}

/* Efecto "Lifted Corners" (Sombra curva inferior) */
.page::before,
.page::after {
  content: "";
  position: absolute;
  z-index: -1; /* Detrás de la hoja (.pageInner) */
  bottom: 22px; /* Subido más para ocultar el cuerpo del elemento */
  left: 25px; /* Más centrado */
  width: 35%; /* Más pequeño */
  height: 20%;
  max-width: 300px;
  /* Sombra suave solo abajo */
  box-shadow: 0 20px 20px rgba(0, 0, 0, 0.25); 
  transform: rotate(-4deg);
  transition: all 0.3s ease;
}

.page::after {
  right: 25px;
  left: auto;
  transform: rotate(4deg);
}

.pageIndicator {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1.5rem;
  width: 100%;
  color: #94a3b8;
  font-size: 0.85rem;
  font-weight: 500;
  /* Espaciado claro alrededor del indicador */
  margin-top: 1rem;
  margin-bottom: 3rem;
}

.pageIndicator::before,
.pageIndicator::after {
  content: "";
  height: 1px;
  width: 60px; /* Líneas más largas */
  background-color: #cbd5e1;
}

@media print {
  .container { display: block; gap: 0; }
  .page { 
    border: none;
    box-shadow: none;
    margin: 0; 
    page-break-after: always; 
    break-after: page; 
    background-color: transparent;
  }
  .page::before, .page::after {
    display: none;
  }
  .pageInner {
    background-color: white; /* Asegurar fondo blanco en impresión */
    overflow: visible; /* A veces necesario para imprimir bordes completos */
  }
  .pageIndicator { display: none; }
  @page { margin: 0; size: A4; }
}

/* LAYOUT GRID & PADDING */
.pageContentWrapper {
  /* Reducimos margen superior drásticamente */
  padding: 8mm 18mm 18mm 18mm; 
  height: 100%;
  display: flex;
  flex-direction: column;
  position: relative;
  z-index: 2;
}

/* HEADER */
.header {
  position: relative;
  /* Sin padding bottom extra ni borde */
  padding-bottom: 0; 
  display: flex;
  justify-content: space-between;
  align-items: center; /* Centrado vertical con la foto */
  background-color: transparent;
  z-index: 10;
  gap: 2rem;
  margin-bottom: 4mm; /* Espacio antes del cuerpo */
  border-bottom: none; /* Eliminado separador */
}

.waveBackground {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%; /* Cubre toda la página (diseño integral) */
  z-index: 0;
  overflow: hidden;
  pointer-events: none;
  opacity: 1; /* Opacidad real del diseño */
}

.waveBackgroundSmall {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 60px;
  opacity: 0.1;
  z-index: 0;
}

.headerContent {
  position: relative;
  z-index: 10;
  flex: 1;
  min-width: 0;
  padding-top: 0; 
}

.name {
  font-family: var(--font-heading);
  font-size: 34px;
  font-weight: 700; /* Más grueso según referencia */
  text-transform: uppercase;
  color: rgb(0, 0, 0);
  line-height: 1;
  padding-bottom: 2px;
  white-space: pre-wrap;
  letter-spacing: -1.5px; /* Menos espaciado entre letras */
  margin: 0 0 2mm 0;
}

.name.uppercase {
  text-transform: uppercase;
}

.role {
  font-size: var(--fs-role);
  font-weight: 600;
  color: var(--primary-color); /* Mantiene azul */
  margin-bottom: 2mm;
  line-height: 1.2;
}

/* Contact Info */
.contactInfo {
  display: flex;
  flex-flow: row wrap;
  gap: 0.5em 1.2em;
  font-size: 8.5pt; /* Reducido para mayor elegancia */
  color: #000000; /* Texto negro */
  font-weight: 500;
  align-items: center;
  width: 100%;
}

.contactItem {
  display: inline-flex;
  align-items: center;
  gap: 0.4em;
  white-space: nowrap;
  flex-shrink: 0;
  line-height: 1.2;
}

.contactIcon {
  color: var(--primary-color);
  width: 1em;
  height: 1em;
  flex-shrink: 0;
}

/* Photo */
.photoContainer {
  position: relative;
  z-index: 10;
  width: 35mm;
  height: 35mm;
  flex-shrink: 0;
  border: none;
  overflow: hidden;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1); 
  background-color: #f1f5f9;
  margin-right: 0;
  /* Centrado de contenido (placeholder) */
  display: flex;
  align-items: center;
  justify-content: center;
}

.placeholderContent {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  width: 100%;
  height: 100%;
  color: #94a3b8; /* Slate 400 */
  padding: 2mm;
}

.placeholderIcon {
  width: 24px;
  height: 24px;
  margin-bottom: 2px;
  opacity: 0.8;
}

.placeholderText {
  font-size: 7pt;
  font-weight: 600;
  line-height: 1;
  text-transform: uppercase;
  opacity: 0.8;
}

.photoContainer.circle { border-radius: 50%; }
.photoContainer.square { border-radius: 8px; }

.photo {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* BODY GRID */
.body {
  display: grid;
  grid-template-columns: var(--left-col-width, 1.7fr) var(--right-col-width, 1fr);
  gap: 12mm; /* Separación amplia */
  flex: 1;
  position: relative;
  z-index: 5;
  align-items: start;
}

.columnLeft, .columnRight {
  display: flex;
  flex-direction: column;
  gap: 0; 
}

/* SECTIONS */
.sectionTitle {
  font-family: var(--font-heading);
  font-size: var(--fs-section);
  font-weight: 800; /* Más grueso */
  text-transform: uppercase;
  color: #000000; /* Negro */
  border-bottom: 2px solid #000000; /* Línea negra gruesa */
  padding-bottom: 1.5mm;
  margin-bottom: 2mm;
  margin-top: 2mm;
  letter-spacing: 0.05em;
  line-height: 1;
}

/* ITEMS */
.item {
  margin-bottom: 2mm;
  padding-bottom: 0;
  break-inside: avoid;
}

.item + .item {
  margin-top: 1mm;
  border-top: 1px dotted #cbd5e1; /* Gris sutil (Slate 300) */
  padding-top: 1mm;
}

.item:last-child {
  margin-bottom: 2mm;
}

.itemTitle {
  font-weight: 700;
  font-size: var(--fs-title);
  color: #000000; /* Negro */
  line-height: var(--lh-title);
  margin-bottom: 0.5mm;
}

.itemSubtitle {
  font-weight: 600;
  font-size: var(--fs-subtitle);
  color: var(--primary-color); /* Azul */
  line-height: var(--lh-title);
  margin-bottom: 0.5mm;
}

.itemMeta {
  font-size: var(--fs-small);
  color: #374151; /* Gris muy oscuro */
  font-weight: 500;
  display: flex;
  gap: 0.5em;
  margin-bottom: 1.5mm;
  line-height: 1.2;
}

.itemMeta svg {
  width: 0.9em;
  height: 0.9em;
  color: currentColor; /* Hereda el color del padre (.itemMeta) */
  flex-shrink: 0;
  margin-top: 1px;
}

.itemDescription {
  font-size: var(--fs-body);
  line-height: var(--lh-body);
  color: #000000;
  text-align: left;
}

/* 
   Hack para que los párrafos se comporten como bullets 
   (Solicitud: "Enter = Nueva viñeta")
*/
.itemDescription p {
  display: list-item;
  list-style-type: disc;
  margin-left: 1.1em; /* Indentación para el bullet */
  margin-bottom: 1.5mm;
  padding-left: 0.2em; /* Espacio entre bullet y texto */
}

/* 
   Si el usuario usa explícitamente listas en el editor,
   respetamos el estilo de lista estándar pero evitamos duplicidad
*/
.itemDescription ul {
  list-style-type: disc;
  padding-left: 1.1em;
  margin-top: 1mm;
  margin-bottom: 1.5mm;
}

.itemDescription ol {
  list-style-type: decimal;
  padding-left: 1.1em;
  margin-top: 1mm;
  margin-bottom: 1.5mm;
}

.itemDescription li {
  margin-bottom: 1.5mm;
  line-height: var(--lh-list);
  padding-left: 0.2em;
}

/* 
   Si hay párrafos DENTRO de un li (TipTap a veces lo hace),
   reseteamos para no tener doble bullet
*/
.itemDescription li p {
  display: block;
  list-style-type: none;
  margin-left: 0;
  margin-bottom: 0;
  padding-left: 0;
}

/* SKILLS - PILLS STYLE (Referencia: Negro sobre blanco o gris muy suave) */
.skillsGroup {
  margin-bottom: 2mm;
}

.skillsGroup + .skillsGroup {
  margin-top: 1mm;
  border-top: 1px dotted #cbd5e1;
  padding-top: 1mm;
}

.skillCategoryTitle {
  font-family: var(--font-heading);
  font-size: 9pt;
  font-weight: 700;
  color: var(--primary-color);
  margin-bottom: 2mm;
  line-height: 1.2;
  text-transform: uppercase;
}

.skillsList {
  display: flex;
  flex-wrap: wrap;
  gap: 2mm;
}

.skillTag {
  background-color: #f3f4f6; /* Gray 100 */
  padding: 1mm 2.5mm;
  border-radius: 4px;
  font-size: 8.5pt;
  font-weight: 600;
  color: #111827; /* Gray 900 */
  line-height: 1.2;
  border: none;
}

/* PROFILE */
.profileText {
  font-size: var(--fs-body);
  line-height: var(--lh-body);
  text-align: left;
  margin-bottom: 4mm;
  color: #000000;
}
